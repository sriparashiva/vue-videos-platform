import{_ as v}from"./Loader.0ad8c7fd.js";import{_ as x}from"./nuxt-link.d8b12ca1.js";import{i as k,j as y,q as w,s as S,v as u,x as b,m as L,l as N,y as j,o as t,a as o,u as a,e as l,b as _,f as r,t as A,w as C,z as V}from"./entry.04416d42.js";import"./_plugin-vue_export-helper.c27b6911.js";const q={class:"flex justify-center items-center w-full h-full"},B={key:0,class:"flex justify-center items-center p-12 min-w-50vw min-h-50vh"},R={key:1,class:"px-10 py-14 my-16 min-w-40vw bg-accent_lighten dark:bg-dark_lighten"},E={key:0},P={class:"text-base text-red-400 opacity-70 text-center"},T=_("br",null,null,-1),F=k({__name:"Redirect",setup(z){const{authenticateProvider:d}=y(),m=w(),p=S(),s=u(!0),e=u(""),c=b(),g=L(),i=N();return j(async()=>{if(c.query.access_token)try{await d("google",c.query.access_token.toString()),i.setLoggedIn({jwt:p.value,user:m.value}),i.setAuthChecked(!0),g.push("/account")}catch(n){n.response?e.value=n.response._data.error.message:e.value="An unknown error occured.",s.value=!1}else e.value="An error occured in signing you in to Google.",s.value=!1}),(n,D)=>{const h=v,f=x;return t(),o("div",q,[a(s)?(t(),o("div",B,[l(h)])):(t(),o("div",R,[a(e).length>0?(t(),o("div",E,[_("p",P,[r(A(a(e))+" ",1),T,r("Please try "),l(f,{"aria-label":"Log in again",class:"font-medium text-accent dark:text-accent hover:dark:text-accent_lighten",to:"/login"},{default:C(()=>[r("logging in again")]),_:1})])])):V("",!0)]))])}}});export{F as default};
