import{_ as C}from"./nuxt-link.d8b12ca1.js";import{l as j,h as U,i as q,j as B,_ as E}from"./mdi.d567e790.js";import{_ as T}from"./Loader.0ad8c7fd.js";import{i as N,q as P,s as Z,j as z,v as l,o as d,a as g,e as t,w as $,b as s,u as e,L as v,J as D,t as G,f as V,c as H,p as J,h as K,k as M,m as O,l as Q,z as I}from"./entry.04416d42.js";import{F as b,a as W}from"./vee-validate.esm.9972e588.js";import{_ as X}from"./_plugin-vue_export-helper.c27b6911.js";const w=m=>(J("data-v-2e7c8ff3"),m=m(),K(),m),Y={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},ee=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),te={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},se=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),ae={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},oe=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),ne={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},le=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),ie={key:0,"aria-label":"Register",type:"submit",class:"submitForm flex justify-center items-center gap-2 p-3 transition bg-accent hover:bg-accent_darken text-accent_lighten font-medium"},re=N({__name:"RegisterForm",emits:["registerSuccess"],setup(m,{emit:y}){const x=P(),k=Z(),{register:_}=z(),i=l(""),a=l(""),c=l(""),u=l(""),f=l(""),h=l(!1),L=o=>o?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(o)?!0:"Not a valid email address":"This field is required",S=o=>o?!0:"This field is required",R=o=>o?o.length<8?"Password must be at least 8 characters":!0:"This field is required",A=async()=>{h.value=!0;try{await _({username:i.value,email:i.value,password:u.value,name:`${a.value} ${c.value}`,givenName:a.value,familyName:c.value}),h.value=!1,y("registerSuccess",{user:x.value,jwt:k.value})}catch(o){f.value=o.error.message,h.value=!1}};return(o,n)=>{const p=E,F=T;return d(),g("div",null,[t(e(W),{autocomplete:"off",onSubmit:A,class:"registrationForm flex flex-col gap-2 mt-6"},{default:$(()=>[s("div",Y,[t(p,{icon:e(j),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"text",name:"fname",id:"fname",placeholder:"First Name",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(a),"onUpdate:modelValue":n[0]||(n[0]=r=>v(a)?a.value=r:null),rules:S},null,8,["modelValue"])]),ee,s("div",te,[t(p,{icon:e(j),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"text",name:"lname",id:"lname",placeholder:"Last Name",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(c),"onUpdate:modelValue":n[1]||(n[1]=r=>v(c)?c.value=r:null),rules:S},null,8,["modelValue"])]),se,s("div",ae,[t(p,{icon:e(U),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"email",name:"email",id:"email",placeholder:"Email Address",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(i),"onUpdate:modelValue":n[2]||(n[2]=r=>v(i)?i.value=r:null),rules:L},null,8,["modelValue"])]),oe,s("div",ne,[t(p,{icon:e(q),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"password",name:"password",id:"password",placeholder:"Password",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(u),"onUpdate:modelValue":n[3]||(n[3]=r=>v(u)?u.value=r:null),rules:R},null,8,["modelValue"])]),le,s("p",{class:D(["text-base text-red-400 transition text-center w-full",e(f)?"opacity-100 visible":"opacity-0 invisible"])},G(e(f)),3),e(h)?(d(),H(F,{key:1})):(d(),g("button",ie,[t(p,{icon:e(B),color:"fill-white",class:"w-4"},null,8,["icon"]),V(" Register ")]))]),_:1})])}}});const ce=X(re,[["__scopeId","data-v-2e7c8ff3"]]),ue={class:"flex justify-center items-center"},de={key:0,class:"px-10 py-14 my-16 <md:min-w-screen md:w-512px bg-accent_lighten dark:bg-dark_lighten"},me={key:0},_e=s("div",{class:"text-3xl font-bold mb-1 text-text dark:text-dark_text_lighten"}," Get Started ",-1),fe={class:"text-base text-text dark:text-dark_text opacity-70"},we=N({__name:"register",setup(m){M({title:"Register - Vox TV"});const y=O(),x=l(!1),k=l({}),_=Q(),i=async a=>{k.value=a.user,x.value=!0,_.setLoggedIn({jwt:a.jwt,user:a.user}),y.push("/account")};return(a,c)=>{const u=C,f=ce;return d(),g("div",ue,[e(_).getAuthChecked&&!e(_).getLoggedIn?(d(),g("div",de,[e(x)?I("",!0):(d(),g("div",me,[_e,s("p",fe,[V(" Already have an account? "),t(u,{"aria-label":"Log in",class:"font-medium text-accent dark:text-accent hover:dark:text-accent_lighten",to:"/login"},{default:$(()=>[V("Log in")]),_:1})]),t(f,{onRegisterSuccess:i})]))])):I("",!0)])}}});export{we as default};
