import{_ as C}from"./nuxt-link.58474e30.js";import{h as N,d as U,e as q,f as B,_ as E}from"./mdi.b70b2004.js";import{_ as T}from"./Loader.4b3078b1.js";import{i as $,s as P,v as Z,q as K,x as l,o as u,a as g,e as t,w as j,b as s,u as e,K as v,L as z,t as D,f as V,c as G,p as H,h as J,j as M,l as O,k as Q,A as I}from"./entry.6a7138b8.js";import{F as b,a as W}from"./vee-validate.esm.f8c4cc77.js";import{_ as X}from"./_plugin-vue_export-helper.c27b6911.js";const w=m=>(H("data-v-e0bcb43c"),m=m(),J(),m),Y={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},ee=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),te={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},se=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),ae={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},ne=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),oe={class:"inputItem flex gap-3 p-3 bg-white dark:bg-dark_info"},le=w(()=>s("div",{class:"flex flex-col justify-end min-h-4 mt-2"},null,-1)),ie={key:0,"aria-label":"Register",type:"submit",class:"submitForm flex justify-center items-center gap-2 p-3 transition bg-accent hover:bg-accent_darken text-accent_lighten font-medium"},re=$({__name:"RegisterForm",emits:["registerSuccess"],setup(m,{emit:y}){const x=P(),k=Z(),{register:_}=K(),i=l(""),a=l(""),c=l(""),d=l(""),p=l(""),h=l(!1),A=n=>n?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(n)?!0:"Not a valid email address":"This field is required",S=n=>n?!0:"This field is required",L=n=>n?n.length<8?"Password must be at least 8 characters":!0:"This field is required",R=async()=>{h.value=!0;try{await _({username:i.value,email:i.value,password:d.value,name:`${a.value} ${c.value}`,givenName:a.value,familyName:c.value}),h.value=!1,y("registerSuccess",{user:x.value,jwt:k.value})}catch(n){p.value=n.error.message,h.value=!1}};return(n,o)=>{const f=E,F=T;return u(),g("div",null,[t(e(W),{autocomplete:"off",onSubmit:R,class:"registrationForm flex flex-col gap-2 mt-6"},{default:j(()=>[s("div",Y,[t(f,{icon:e(N),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"text",name:"fname",id:"fname",placeholder:"First Name",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(a),"onUpdate:modelValue":o[0]||(o[0]=r=>v(a)?a.value=r:null),rules:S},null,8,["modelValue"])]),ee,s("div",te,[t(f,{icon:e(N),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"text",name:"lname",id:"lname",placeholder:"Last Name",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(c),"onUpdate:modelValue":o[1]||(o[1]=r=>v(c)?c.value=r:null),rules:S},null,8,["modelValue"])]),se,s("div",ae,[t(f,{icon:e(U),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"email",name:"email",id:"email",placeholder:"Email Address",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(i),"onUpdate:modelValue":o[2]||(o[2]=r=>v(i)?i.value=r:null),rules:A},null,8,["modelValue"])]),ne,s("div",oe,[t(f,{icon:e(q),color:"fill-gray-400 w-4",class:"transition hover:fill-white"},null,8,["icon"]),t(e(b),{type:"password",name:"password",id:"password",placeholder:"Password",class:"bg-transparent outline-none border-none text-sm w-full font-medium",modelValue:e(d),"onUpdate:modelValue":o[3]||(o[3]=r=>v(d)?d.value=r:null),rules:L},null,8,["modelValue"])]),le,s("p",{class:z(["text-base text-red-400 transition text-center w-full",e(p)?"opacity-100 visible":"opacity-0 invisible"])},D(e(p)),3),e(h)?(u(),G(F,{key:1})):(u(),g("button",ie,[t(f,{icon:e(B),color:"fill-white",class:"w-4"},null,8,["icon"]),V(" Register ")]))]),_:1})])}}});const ce=X(re,[["__scopeId","data-v-e0bcb43c"]]),de={class:"flex justify-center items-center"},ue={key:0,class:"px-10 py-14 my-16 <md:min-w-screen md:w-512px bg-accent_lighten dark:bg-dark_lighten"},me={key:0},_e=s("div",{class:"text-3xl font-bold mb-1 text-text dark:text-dark_text_lighten"}," Get Started ",-1),pe={class:"text-base text-text dark:text-dark_text opacity-70"},we=$({__name:"register",setup(m){M({title:"Register - Nithyananda TV"});const y=O(),x=l(!1),k=l({}),_=Q(),i=async a=>{k.value=a.user,x.value=!0,_.setLoggedIn({jwt:a.jwt,user:a.user}),y.push("/account")};return(a,c)=>{const d=C,p=ce;return u(),g("div",de,[e(_).getAuthChecked&&!e(_).getLoggedIn?(u(),g("div",ue,[e(x)?I("",!0):(u(),g("div",me,[_e,s("p",pe,[V(" Already have an account? "),t(d,{"aria-label":"Log in",class:"font-medium text-accent dark:text-accent hover:dark:text-accent_lighten",to:"/login"},{default:j(()=>[V("Log in")]),_:1})]),t(p,{onRegisterSuccess:i})]))])):I("",!0)])}}});export{we as default};
