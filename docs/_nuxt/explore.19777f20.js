import{_ as C}from"./VideoSlider.acfa7851.js";import{_ as E}from"./VideoSliderSkeleton.f69e4074.js";import{i as S,k as B,v as t,A as T,B as L,y as M,o as s,a as l,e as u,w as x,F as _,r as w,u as m,T as N,C as P,D as I,b as i,E as A,z as D,c as F}from"./entry.04416d42.js";import"./nuxt-link.d8b12ca1.js";import"./VideoCard.b17f5780.js";import"./lazysizes.869e4f93.js";import"./numbro.min.107d2f30.js";import"./index.e9cbcaec.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./CardSkeleton.9fc78275.js";const H=i("h1",{class:"text-3xl font-bold text-secondary dark:text-dark_text_lighten <sm:px-6 px-10 mt-10"}," Explore Playlists ",-1),z={class:"my-4"},G={key:0,class:"min-h-400px"},Y=S({__name:"explore",async setup(O){let a,v;B({title:"Explore Videos and Playlists - Vox TV"});const r=t([]),f=T(),k=([a,v]=L(()=>f("/playlists/with-videos")),a=await a,v(),a);r.value.push(...k.data);const o=t(!1),c=t(!1),y=t(1),d=t(null);M(()=>{new IntersectionObserver(b).observe(d.value?d.value:new HTMLElement)});const b=(e,h)=>{e.forEach(async p=>{p.isIntersecting&&!c.value&&(o.value=!0,await V()),c.value&&h.disconnect()})},V=async()=>{const e=await f("/playlists/with-videos",{params:{pagination:{start:y.value*5,limit:5}}});e.data.length>0?r.value.push(...e.data):c.value=!0,y.value++,o.value=!1};return(e,h)=>{const p=C,g=E;return s(),l(_,null,[H,u(N,{name:"fade"},{default:x(()=>[(s(!0),l(_,null,w(m(r),n=>(s(),F(p,{key:`playlist-${n.id}`,playlist:n,class:"videoSlider"},null,8,["playlist"]))),128))]),_:1}),u(A,{name:"fade"},{default:x(()=>[P(i("div",z,[(s(),l(_,null,w(3,n=>i("div",{key:n,class:"mt-10"},[u(g)])),64))],512),[[I,m(o)]])]),_:1}),m(o)?(s(),l("div",G)):D("",!0),i("div",{class:"invisible",ref_key:"loadMore",ref:d},".",512)],64)}}});export{Y as default};
